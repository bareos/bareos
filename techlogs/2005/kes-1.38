              Technical notes on version 1.38  
                        Kern Sibbald

General:

Changes to 1.38.2:
20Oct05
- Fix crash in tray-monitor when daemon disconnects. Bug #479.
- Fix bnet-server bug found on OpenBSD. Bug #486 (bug originator
  says this does not fix *his* bug).
- Fix cancel failure bug. Bug #481
- Fix failure when Pool name has spaces. Bug #487   
- Fix SD crash in autochanger code. Mutex failure. Bug #488
- Fix a couple of free()s in src/filed/acl.c
- Fix memory overrun in bfile.c in building OS X resource
  fork filename. Bug #489 
- Add Pool name to SD status output.
- Add Python install dir for Solaris to configure. Bug #492

Changes to 1.38.1:
14Oct05
- Apply SunOS patch for ACLs submitted by David Duchscher.                  
- Make sure to set storage before trying to set drive.
- Add bacula_mail_summary.sh to examples directory. It makes
  a single email summary of any number of jobs. Submitted
  by Adrew J. Millar.
- Make sure when we do a mount to unblock the device even
  if the drive could not be opened.  
13Oct05
- Merge Scott's new spec files.
- Add doc on setting up Win32 environment variable supplied
  by Kees van den Broek.               
- Turn off API debug output unless debug set to avoid confusing
  the user.
- Add Solaris ACL detection in configure.in as supplied by
  Attila Fulop. 
12Oct05
- Implement "autochanger drives" protocol so that Dir knows
  how many drives an autochanger has.
- Do not request drive number in label, ... if only one drive.
- Turn off debug code.
- Fix update slots to clear slot number of every slot before
  setting it.  This fixes (I believe) bug #471
- Make unmount unload the autochanger slot.
- Modify open() on mount to be read-only and non-blocking,      
  otherwise the mount can block for a long time.
- Make a few error message numbers unique.
- Make a few error messages more correct.
- Apply patch from Thorsten to fix Win98 stat() command.
10Oct05
- Remove delete of CVS from all makefiles.
- Fix seg fault when clicking on Add button in wx-console
  restore panel.  Bug #470.
- Fix copyright date and URL typo -- bug #468.
- Change autostart install for FreeBSD to look for rc.conf  
  rather than rc.local as suggested fix for bug #466.
- Apply patch supplied by Eric Bollinger to fix PostgreSQL    
  grant on status. Bug #465
- Apply patch supplied by Eric Bollinger to fix PostgreSQL
  update script. Bug #464
- Fix off by one for last Slot of autochanger for label.
- Update release date.
- Tweak an authentication error message in dir.
- Fix autoloader so that mutex is set and released around
  each run_program().  There was a missing set.
- Remove an unnecessary drive release in autochanger.
- Modify configure.in to add execute option to sqlite3 catalog  
  scripts.
- Create update_xxx_table_8_to_9 scripts for updatedb
- Fix wrong variable in bpipe.c debug output reported by user.
- Fix improper placement of encode_and_send_attributes() in
  FD backup.c causing first file of non-portable Win32 backup
  to have wrong stream. Reported by Thorsten.
- Move the -lcrypt for PostgreSQL after the PostgreSQL libs in
  autoconf/bacula-macros/db.m4 as suggested by user.  Fixes bug #457.
- Remove @STATIC_CONS@ from tray-monitor Makefile as suggested
  by user. Fixes bug #456.

Released 1.38.0 (28Oct05): 31 October 2005
