.. ATTENTION do not edit this file manually.
   It was automatically converted from the corresponding .tex file

.. _SupportedOSes:

Operating Systems
=================

:index:`[TAG=Systems->Supported Operating Systems] <pair: Systems; Supported Operating Systems>` :index:`[TAG=Support->Operating Systems] <pair: Support; Operating Systems>`

The Bareos project provides and supports packages that have been released at http://download.bareos.org/bareos/release/

However, the following tabular gives an overview, what components are expected on which platforms to run:

# Tabular in LaTex format (original)

::

   \begin{tabular}[h]{|l|c|c|c|c|}
     \hline
     :strong:`Operating Systems` & :strong:`Version` & :strong:`Client Daemon` & :strong:`Director Daemon` & :strong:`Storage Daemon` \\
     \hline
     \hline
     :strong:`:strong:`Linux``  :index:`[TAG=Platform->Linux] <pair: Platform; Linux>` \\
     \hline
     Arch Linux
     :index:`[TAG=Platform->Arch Linux] <pair: Platform; Arch Linux>`
                     & ~ & `X <https://aur.archlinux.org/pkgbase/bareos/>`_ & `X <https://aur.archlinux.org/pkgbase/bareos/>`_ & `X <https://aur.archlinux.org/pkgbase/bareos/>`_ \\
     \hline
     CentOS          & current & v12.4 & v12.4 & v12.4 \\
     \hline
     Debian          & current & v12.4 & v12.4 & v12.4 \\
     \hline
     Fedora          & current & v12.4 & v12.4 & v12.4 \\
     \hline
     Gentoo
     :index:`[TAG=Platform->Gentoo] <pair: Platform; Gentoo>`
                       & ~ & `X <https://packages.gentoo.org/package/app-backup/bareos>`_ & `X <https://packages.gentoo.org/package/app-backup/bareos>`_ & `X <https://packages.gentoo.org/package/app-backup/bareos>`_ \\
     \hline
     openSUSE        & current & v12.4 & v12.4 & v12.4 \\
     \hline
     RHEL            & current & v12.4 & v12.4 & v12.4 \\
     \hline
     SLES            & current & v12.4 & v12.4 & v12.4 \\
     \hline
     Ubuntu          & current & v12.4 & v12.4 & v12.4 \\
     \hline
     :ref:`Univention Corporate Linux <section-UniventionCorporateServer>` & App Center & v12.4 & v12.4 & v12.4 \\
     \hline
     :strong:`:strong:`MS Windows``  \\
     \hline
     :ref:`MS Windows <section-windows>` 32bit & 10/8/7       & v12.4 & v15.2 & v15.2 \\
     ~                & 2008/Vista   &  &  &  \\
     ~                & 2003/XP      & v12.4--v14.2 &         &  \\
     \hline
     :ref:`MS Windows <section-windows>` 64bit & 10/8/2012/7  & v12.4 & v15.2 & v15.2 \\
     ~                & 2008/Vista   &  &  &  \\
     \hline
     :strong:`:strong:`Mac OS``  \\
     \hline
     :ref:`Mac OS X/Darwin <section-macosx>`   & ~ & v14.2 &  &  \\
     \hline
     :strong:`:strong:`BSD``  \\
     \hline
     FreeBSD
     :index:`[TAG=Platform->FreeBSD] <pair: Platform; FreeBSD>`
                       & >= 5.0 & `X <http://www.freshports.org/sysutils/bareos-client/>`_ & `X <http://www.freshports.org/sysutils/bareos-server/>`_ & `X <http://www.freshports.org/sysutils/bareos-server/>`_  \\
     \hline
     OpenBSD          & ~ & X &  & ~ \\
     \hline
     NetBSD           & ~ & X &  & ~ \\
     \hline
     :strong:`:strong:`Unix``  \\
     %\hline
     %BSDI             & ~ & * & ~ & ~ \\
     \hline
     AIX
     :index:`[TAG=Platform->AIX] <pair: Platform; AIX>`
                      & >= 4.3 & com-13.2 & * & * \\
     \hline
     HP-UX
     :index:`[TAG=Platform->HP-UX] <pair: Platform; HP-UX>`
                      & ~ & com-13.2 & ~ & ~ \\
     \hline
     Irix             & ~ & * & ~ & ~ \\
     %\hline
     %OpenSolaris      & ~ & X & X & X \\
     \hline
     Solaris
     :index:`[TAG=Platform->Solaris] <pair: Platform; Solaris>`
                      & >= 8 & com-12.4 & com-12.4 & com-12.4 \\
     \hline
     True64           & ~ & * & ~ & ~ \\
     \hline
   \end{tabular}

# Tabular converted from LaTeX to RST (or empty, in case of problems):

============================================================================================ =========== ============================================================================= ============================================================================= =============================================================================
**Operating Systems**                                                                        **Version** **Client Daemon**                                                             **Director Daemon**                                                           **Storage Daemon**
============================================================================================ =========== ============================================================================= ============================================================================= =============================================================================
:strong:`:strong:`Linux``  :index:`[TAG=Platform->Linux] <pair: Platform; Linux>`                                                                                                                                                                        
Arch Linux :index:`[TAG=Platform->Arch Linux] <pair: Platform; Arch Linux>`                                             `X <https://aur.archlinux.org/pkgbase/bareos/>`_             `X <https://aur.archlinux.org/pkgbase/bareos/>`_             `X <https://aur.archlinux.org/pkgbase/bareos/>`_
CentOS                                                                                       current     v12.4                                                                         v12.4                                                                         v12.4
Debian                                                                                       current     v12.4                                                                         v12.4                                                                         v12.4
Fedora                                                                                       current     v12.4                                                                         v12.4                                                                         v12.4
Gentoo :index:`[TAG=Platform->Gentoo] <pair: Platform; Gentoo>`                                                     `X <https://packages.gentoo.org/package/app-backup/bareos>`_ `X <https://packages.gentoo.org/package/app-backup/bareos>`_ `X <https://packages.gentoo.org/package/app-backup/bareos>`_
openSUSE                                                                                     current     v12.4                                                                         v12.4                                                                         v12.4
RHEL                                                                                         current     v12.4                                                                         v12.4                                                                         v12.4
SLES                                                                                         current     v12.4                                                                         v12.4                                                                         v12.4
Ubuntu                                                                                       current     v12.4                                                                         v12.4                                                                         v12.4
:ref:`Univention Corporate Linux <section-UniventionCorporateServer>`           App Center  v12.4                                                                         v12.4                                                                         v12.4
:strong:`:strong:`MS Windows``                                                                                                                                                                                                                 
:ref:`MS Windows <section-windows>` 32bit                                       10/8/7      v12.4                                                                         v15.2                                                                         v15.2
                                                                                             2008/Vista                                                                                                                                                             
                                                                                             2003/XP     v12.4–v14.2                                                                                                                                                
:ref:`MS Windows <section-windows>` 64bit                                       10/8/2012/7 v12.4                                                                         v15.2                                                                         v15.2
                                                                                             2008/Vista                                                                                                                                                             
:strong:`:strong:`Mac OS``                                                                                                                                                                                                                     
:ref:`Mac OS X/Darwin <section-macosx>`                                                     v14.2                                                                                                                                                      
:strong:`:strong:`BSD``                                                                                                                                                                                                                        
FreeBSD :index:`[TAG=Platform->FreeBSD] <pair: Platform; FreeBSD>`                                       >= 5.0      `X <http://www.freshports.org/sysutils/bareos-client/>`_     `X <http://www.freshports.org/sysutils/bareos-server/>`_     `X <http://www.freshports.org/sysutils/bareos-server/>`_
OpenBSD                                                                                                  X                                                                                                                                                            
NetBSD                                                                                                   X                                                                                                                                                            
:strong:`:strong:`Unix``                                                                                                                                                                                                                       
AIX :index:`[TAG=Platform->AIX] <pair: Platform; AIX>`                                               >= 4.3      com-13.2                                                                      \*                                                                            \*
HP-UX :index:`[TAG=Platform->HP-UX] <pair: Platform; HP-UX>`                                                       com-13.2                                                                                                                                                     
Irix                                                                                                     \*                                                                                                                                                           
Solaris :index:`[TAG=Platform->Solaris] <pair: Platform; Solaris>`                                       >= 8        com-12.4                                                                      com-12.4                                                                      com-12.4
True64                                                                                                   \*                                                                                                                                                           
============================================================================================ =========== ============================================================================= ============================================================================= =============================================================================

# Tabular in LaTex format (original)

::

   \begin{tabular}[h]{p{0,15\textwidth} p{0,8\textwidth}}
   :strong:`vVV.V`   & starting with Bareos version VV.V, this platform is official supported by the Bareos.org project \\
   :strong:`com-VV.V`   & starting with Bareos version VV.V, this platform is supported. However, pre-build packages are only available from  Bareos.com\\
   :strong:`nightly` & provided by Bareos nightly build. Bug reports are welcome, however it is not official supported \\
   :strong:`X`       & known to work \\
   :strong:`*` & has been reported to work by the community\\
   \end{tabular}

# Tabular converted from LaTeX to RST (or empty, in case of problems):

============ =============================================================================================================================
**vVV.V**    starting with Bareos version VV.V, this platform is official supported by the Bareos.org project
**com-VV.V** starting with Bareos version VV.V, this platform is supported. However, pre-build packages are only available from Bareos.com
**nightly**  provided by Bareos nightly build. Bug reports are welcome, however it is not official supported
**X**        known to work
**\***       has been reported to work by the community
============ =============================================================================================================================

.. _section-packages:

Packages for the different Linux platforms
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The following tables summarize what packages are available for the different Linux platforms.

This information is generated based on http://download.bareos.com/bareos/release/. In most cases this is identical to the packages provided by http://download.bareos.org/bareos/release/. Only if a package have been added later in a maintenance release, these information may differ.

Distributions that are no longer relevant are left out. However, you might still find the packages on our download servers.

Bareos tries to provide all packages for all current platforms. For extra packages, it depends if the distribution contains the required dependencies.

For general information about the packages, see :ref:`section-BareosPackages`.

Packages names not containing the word **bareos** are required packages where we decided to include them ourselves.



Debian.org / Ubuntu Universe
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

:index:`[TAG=Platform->Debian->Debian.org] <triple: Platform; Debian; Debian.org>` :index:`[TAG=Platform->Debian->8] <triple: Platform; Debian; 8>` :index:`[TAG=Platform->Ubuntu->Universe] <triple: Platform; Ubuntu; Universe>` \index[general]{Platform!Ubuntu!Universe!15.04} 

.. _section-DebianOrg:



The distributions of Debian >= 8 include a version of Bareos. Ubuntu Universe >= 15.04 does also include these packages.

In the further text, these version will be named **Bareos (Debian.org)** (also for the Ubuntu Universe version, as this is based on the Debian version).

.. _section-DebianOrgLimitations:

Limitations of the Debian.org/Ubuntu Universe version of Bareos
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

-  Debian.org does not include the libfastlz compression library and therefore the Bareos (Debian.org) packages do not offer the fileset options ``compression=LZFAST``, ``compression=LZ4`` and ``compression=LZ4HC``.

-  Debian.org does not include the **bareos-webui** package.

Mac OS X
~~~~~~~~

:index:`[TAG=Platform->Mac->OS X] <triple: Platform; Mac; OS X>` 

.. _section-macosx:



Bareos for MacOS X is available either

-  via the `Homebrew project <https://brew.sh/>`_ (http://formulae.brew.sh/formula/bareos-client) or

-  as pkg file from http://download.bareos.org/bareos/release/latest/MacOS/.

However, you have to choose upfront, which client you want to use. Otherwise conflicts do occur.

Both packages contain the |bareosFd| and :command:`bconsole`.

Installing the Bareos Client as PKG
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

:index:`[TAG=Installation->MacOS] <pair: Installation; MacOS>`

The Bareos installer package for Mac OS X contains the |bareosFd| for Mac OS X 10.5 or later.

On your local Mac, you must be an admin user. The main user is an admin user.

Download the :file:`bareos-client*.pkg` installer package from http://download.bareos.org/bareos/release/latest/MacOS/.

Find the .pkg you just downloaded. Install the .pkg by holding the CTRL key, left-clicking the installer and choosing :emphasis:`open`.

Follow the directions given to you and finish the installation.

Configuration
^^^^^^^^^^^^^

To make use of your |bareosFd| on your system, it is required to configure the |bareosDir| and the local |bareosFd|.

Configure the server-side by follow the instructions at :ref:`section-AddAClient`.

After configuring the server-side you can either transfer the necessary configuration file using following command or configure the client locally.

Option 1: Copy the director resource from the Bareos Director to the Client
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Assuming your client has the DNS entry :strong:`client2.example.com` and has been added to |bareosDir| as **client2-fd**:sup:`bareos-dir`:sub:`client` :

.. code-block:: sh

   scp /etc/bareos/bareos-dir-export/client/client2-fd/bareos-fd.d/director/bareos-dir.conf root@client2.example.com:/usr/local/etc/bareos/bareos-fd.d/director/

This differs in so far, as on Linux the configuration files are located under :file:`/etc/bareos/`, while on MacOS they are located at :file:`/usr/local/etc/bareos/`.

Option 2: Edit the director resource on the Client
''''''''''''''''''''''''''''''''''''''''''''''''''

Alternatively, you can edit the file :file:`/usr/local/etc/bareos/bareos-fd.d/director/bareos-dir.conf`.

This can be done by right-clicking the finder icon in your task bar, select :emphasis:`Go to folder ...` and paste :file:`/usr/local/etc/bareos/bareos-fd.d/director/`.

Select the :file:`bareos-dir.conf` file and open it.

Alternatively you can also call following command on the command console:

.. code-block:: sh

   open -t /usr/local/etc/bareos/bareos-fd.d/director/bareos-dir.conf

The file should look similar to this:

.. code-block:: sh
   :caption: bareos-fd.d/director/bareos-dir.conf

   Director {
     Name = bareos-dir
     Password = "SOME_RANDOM_PASSWORD"
     Description = "Allow the configured Director to access this file daemon."
   }

Set this client-side password to the same value as given on the server-side.



.. warning::
   The configuration file contains passwords and therefore must not be accessible for any users except admin users.

Restart bareos-fd after changing the configuration
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The bareos-fd must be restarted to reread its configuration:

.. code-block:: sh
   :caption: Restart the |bareosFd|

   sudo launchctl stop  org.bareos.bareos-fd
   sudo launchctl start org.bareos.bareos-fd

Verify that the Bareos File Daemon is working
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Open the :command:`bconsole` on your |bareosDir| and check the status of the client with

.. code-block:: sh

   *<input>status client=client2-fd</input>

In case, the client does not react, following command are useful the check the status:

.. code-block:: sh
   :caption: Verify the status of |bareosFd|

   # check if bareos-fd is started by system:
   sudo launchctl list org.bareos.bareos-fd

   # get process id (PID) of bareos-fd
   pgrep bareos-fd

   # show files opened by bareos-fd
   sudo lsof -p `pgrep bareos-fd`

   # check what process is listening on the |bareosFd| port
   sudo lsof -n -iTCP:9102 | grep LISTEN

You can also manually start bareos-fd in debug mode by:

.. code-block:: sh
   :caption: Start |bareosFd| in debug mode

   sudo /usr/local/sbin/bareos-fd -f -d 100
