# This are the local disk storages.
# Same storage daemon but via NDMP protocol.
# We link via the PairedStorage config option the Bareos SD instance definition to a NDMP TAPE AGENT.
#
Storage {
  Name = ndmpfile
  Address = @IP_ADDRESS_TO_ACCESS_NDMP_DATA_AGENT@
  Port = 10000
  Protocol = NDMPv4                         # Need to specify protocol before password as protocol determines password encoding used.
  Auth Type = @ndmp_data_agent_auth_type@                         # Clear == Clear Text, MD5 == Challenge protocol
  Username = "@ndmp_data_agent_user@"       # username of the NDMP user on the TAPE AGENT e.g. the Bareos SD but accessed via the NDMP protocol.
  Password = "@ndmp_data_agent_password@"   # password of the NDMP user on the TAPE AGENT e.g. the Bareos SD but accessed via the NDMP protocol.
  Device = FileStorage
  Media Type = File
  PairedStorage = LocalfileStorage
}


Storage {
  Name = LocalfileStorage
  Address = @IP_ADDRESS_TO_ACCESS_NDMP_DATA_AGENT@
  Password = "@sd_password@"
  Device = FileStorage
  Media Type = File
  Port = @sd_port@
}


Storage {
  Name = ndmpfile-copy
  Address = @IP_ADDRESS_TO_ACCESS_NDMP_DATA_AGENT@
  Port = 10000
  Protocol = NDMPv4                         # Need to specify protocol before password as protocol determines password encoding used.
  Auth Type = @ndmp_data_agent_auth_type@                         # Clear == Clear Text, MD5 == Challenge protocol
  Username = "@ndmp_data_agent_user@"       # username of the NDMP user on the TAPE AGENT e.g. the Bareos SD but accessed via the NDMP protocol.
  Password = "@ndmp_data_agent_password@"   # password of the NDMP user on the TAPE AGENT e.g. the Bareos SD but accessed via the NDMP protocol.
  Device = CopyStorage
  Media Type = Copy
  PairedStorage = LocalCopyStorage
}


Storage {
  Name = LocalCopyStorage
  Address = @IP_ADDRESS_TO_ACCESS_NDMP_DATA_AGENT@
  Password = @sd_password@
  Device = CopyStorage
  Media Type = Copy
  Port = @sd_port@
}
