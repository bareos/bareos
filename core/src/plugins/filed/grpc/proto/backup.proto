syntax = "proto3";

package bareos.backup;

import "common.proto";

message Backup {
  oneof step {
    BeginObject begin_object = 01;
    bareos.common.FileData file_data = 10;
    bareos.common.FileError file_error = 11;
    bareos.common.Acl acl = 30;
    bareos.common.Xattr xattr = 40;
    Done done = 60;
  };
};

message BeginObject {
  oneof object_type {
    bareos.common.PluginObject object = 10;
    bareos.common.PluginFile file = 11;
  };
};

message Done {
};
