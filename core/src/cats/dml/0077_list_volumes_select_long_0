#
# List all volumes.
# Pool in column [4] is important for ACL checking.
#
SELECT    Media.MediaId,
          Media.VolumeName,
          Media.Slot,
          Media.PoolId,
          (SELECT Name FROM Pool WHERE Pool.PoolId=Media.PoolId) AS Pool,
          Media.MediaType,
          TO_CHAR(Media.FirstWritten, '%s') AS FirstWritten,
          TO_CHAR(Media.LastWritten, '%s') AS LastWritten,
          TO_CHAR(Media.LabelDate, '%s') AS LabelDate,
          Media.VolJobs,
          Media.VolFiles,
          Media.VolBlocks,
          Media.VolMounts,
          Media.VolBytes,
          Media.VolErrors,
          Media.VolWrites,
          Media.VolCapacityBytes,
          Media.VolStatus,
          Media.Enabled,
          Media.Recycle,
          Media.VolRetention,
          Media.VolUseDuration,
          Media.MaxVolJobs,
          Media.MaxVolFiles,
          Media.MaxVolBytes,
          Media.InChanger,
          Media.EndFile,
          Media.EndBlock,
          Media.LabelType,
          Media.StorageId,
          Media.DeviceId,
          Media.LocationId,
          Media.RecycleCount,
          TO_CHAR(Media.InitialWrite, '%s') AS InitialWrite,
          Media.ScratchPoolId,
          (SELECT Name FROM Pool WHERE Pool.PoolId=Media.ScratchPoolId) AS ScratchPool,
          Media.RecyclePoolId,
          (SELECT Name FROM Pool WHERE Pool.PoolId=Media.RecyclePoolId) AS RecyclePool,
          Media.Comment,
          Storage.Name AS Storage
FROM      Media
LEFT JOIN Storage USING(StorageId)
