!function t(e,a,r){function i(n,s){if(!a[n]){if(!e[n]){var l="function"==typeof require&&require;if(!s&&l)return l(n,!0);if(o)return o(n,!0);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}var d=a[n]={exports:{}};e[n][0].call(d.exports,function(t){var a=e[n][1][t];return i(a?a:t)},d,d.exports,t,e,a,r)}return a[n].exports}for(var o="function"==typeof require&&require,n=0;n<r.length;n++)i(r[n]);return i}({1:[function(require,module,exports){iJS.Gettext=function(){return this.domain="messages",this.domain_registry=[],this.locale_data=void 0,this.locale_format=null,this.locale=null,this},iJS.i18n=new iJS.Gettext,iJS._=function(t){return iJS.i18n.gettext(t)},iJS.Gettext.prototype.setlocale=function(t){if(!iJS.isString(t))throw new Error("iJS-gettext:'setlocale': Invalid argument: *"+t+"* have to be a `string`.");/^.._..\./.test(t)?this.locale_format=2:/^.._..$/.test(t)?this.locale_format=1:/^..$/.test(t)?this.locale_format=0:(this.locale_format=-1,console.warn("iJS-gettext:'setlocale': It seem like locale: *"+t+"* do not conform to the **i18n standard format**.")),this.locale=t},iJS.Gettext.prototype.bindtextdomain=function(t,e,a){var r,i,o;if(!iJS.isString(t))throw new Error("iJS-gettext:'bindtextdomain': a *domaine* have to be defined as argument.");if(r=t,iJS.isString(a)){if("mo"!=a&&"po"!=a&&"json"!=a)throw new Error("iJS-gettext:'bindtextdomain': type: *"+a+"* is not supported. Use *mo*, *po* or *json* files.");o=a}else o="mo";if(i=iJS.isString(e)?e:"",iJS.isArray(this.domain_registry)||(this.domain_registry=[]),this.domain_registry.length){var n=!0;for(var s in this.domain_registry)if(this.domain_registry[s].value==r){console.warn("iJS-gettext:'bindtextdomain': domaine: *"+r+"* is already added and will just be reset"),this.domain_registry[s].path=i,this.domain_registry[s].type=o,n=!1;break}n&&this.domain_registry.push({value:r,path:i,type:o})}else this.domain_registry.push({value:r,path:i,type:o})},iJS.Gettext.context_glue="",iJS.Gettext._locale_data={},iJS.Gettext.prototype.try_load_lang=function(){if(iJS.isSet(this.domain_registry)&&iJS.isSet(this.locale)){iJS.Gettext._locale_data={};var t=null,e=null;for(var a in this.domain_registry)if(t=this.domain_registry[a],e=document.createElement("link"),"json"==t.type)e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+".json",this.try_load_lang_json(e.href)||this.try_load_alternative_lang(t,e);else if("po"==t.type)e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+".po",this.try_load_lang_po(e.href)||this.try_load_alternative_lang(t,e);else{if(""!=t.path)throw new Error("TODO: link type mo found, support is planned, but not implemented at this time.");if("undefined"!=typeof this.locale_data){var r=this.locale_data;this.locale_data=void 0,this.parse_locale_data(r),"undefined"==typeof iJS.Gettext._locale_data[t.value]&&console.error("iJS-gettext:'try_load_lang':'locale_data': does not contain the domain '"+t.value+"'")}}}else console.warn("iJS-gettext:'try_load_lang': Not thing to do. Itâ€™s seem like no locale or domain have been register. Use `setlocale` or `bindtextdomain` for that.")},iJS.Gettext.prototype.try_load_alternative_lang=function(t,e){if(iJS.isObject(t)&&iJS.isHTMLLinkElement(e)){var a=!1;switch(this.locale_format){case 2:console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale+"* format. Will try to use *"+this.locale.split(".")[0]+"* format..."),e.href=t.path+"/"+this.locale.split(".")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?a=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(a=this.try_load_lang_po(e.href)?!0:!1),a||(console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale.split(".")[0]+"* format. Will try to use *"+this.locale.split("_")[0]+"* format..."),e.href=t.path+"/"+this.locale.split("_")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?a=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(a=this.try_load_lang_po(e.href)?!0:!1),a||(e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+"."+t.type,console.warn("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]")));break;case 1:console.warn("iJS-gettext:'try_load_lang': domaine: *"+t.value+"* not found with locale: *"+this.locale+"* format. Will try to use *"+this.locale.split("_")[0]+"* format..."),e.href=t.path+"/"+this.locale.split("_")[0]+"/LC_MESSAGES/"+t.value+"."+t.type,"json"==t.type?a=this.try_load_lang_json(e.href)?!0:!1:"po"==t.type&&(a=this.try_load_lang_po(e.href)?!0:!1),a||(e.href=t.path+"/"+this.locale+"/LC_MESSAGES/"+t.value+"."+t.type,console.error("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]"));break;default:console.error("iJS-gettext:'try_load_lang_"+t.type+"': failed. Unable to exec XMLHttpRequest for link ["+e.href+"]")}}else console.warn("iJS-gettext:'try_load_alternative_lang': nothing to do or invalid arguments.")},iJS.Gettext.prototype.parse_locale_data=function(t){"undefined"==typeof iJS.Gettext._locale_data&&(iJS.Gettext._locale_data={});for(var e in t)if(t.hasOwnProperty(e)&&iJS.isSet(t[e])){var a=!1;for(var r in t[e]){a=!0;break}if(a){var i=t[e];""==e&&(e="messages"),iJS.isSet(iJS.Gettext._locale_data[e])||(iJS.Gettext._locale_data[e]={}),iJS.isSet(iJS.Gettext._locale_data[e].head)||(iJS.Gettext._locale_data[e].head={}),iJS.isSet(iJS.Gettext._locale_data[e].msgs)||(iJS.Gettext._locale_data[e].msgs={});for(var o in i)if(""==o){var n=i[o];for(var s in n){var l=s.toLowerCase();iJS.Gettext._locale_data[e].head[l]=n[s]}}else iJS.Gettext._locale_data[e].msgs[o]=i[o]}}for(var e in iJS.Gettext._locale_data)if(iJS.isSet(iJS.Gettext._locale_data[e].head["plural-forms"])&&"undefined"==typeof iJS.Gettext._locale_data[e].head.plural_func){var p=iJS.Gettext._locale_data[e].head["plural-forms"],d=new RegExp("^(\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;a-zA-Z0-9_()])+)","m");if(!d.test(p))throw new Error("iJS-gettext:'parse_locale_data': Syntax error in language file. Plural-Forms header is invalid ["+p+"]");var u=iJS.Gettext._locale_data[e].head["plural-forms"];/;\s*$/.test(u)||(u=u.concat(";"));var _="var plural; var nplurals; "+u+' return { "nplural" : nplurals, "plural" : (plural === true ? 1 : plural ? plural : 0) };';iJS.Gettext._locale_data[e].head.plural_func=new Function("n",_)}else"undefined"==typeof iJS.Gettext._locale_data[e].head.plural_func&&(iJS.Gettext._locale_data[e].head.plural_func=function(t){var e=1!=t?1:0;return{nplural:2,plural:e}})},iJS.Gettext.prototype.try_load_lang_po=function(t){var e=this.sjax(t);if(e){var a=this.uri_basename(t),r=this.parse_po(e),i={};return r&&(r[""]||(r[""]={}),r[""].domain||(r[""].domain=a),a=r[""].domain,i[a]=r,this.parse_locale_data(i)),1}},iJS.Gettext.prototype.try_load_lang_mo=function(t){var e=this.sjax(t);if(e){var a=this.uri_basename(t),r=this.parse_mo(e),i={};return r&&(r[""]||(r[""]={}),r[""].domain||(r[""].domain=a),a=r[""].domain,i[a]=r,this.parse_locale_data(i)),1}},iJS.Gettext.prototype.uri_basename=function(t){var e;if(e=t.match(/^(.*\/)?(.*)/)){var a;return(a=e[2].match(/^(.*)\..+$/))?a[1]:e[2]}return""},iJS.Gettext.prototype.parse_po=function(t){for(var e={},a={},r="",i=[],o=t.split("\n"),n=0;n<o.length;n++){o[n]=o[n].replace(/(\n|\r)+$/,"");var s;if(/^$/.test(o[n])){if("undefined"!=typeof a.msgid){var l="undefined"!=typeof a.msgctxt&&a.msgctxt.length?a.msgctxt+iJS.Gettext.context_glue+a.msgid:a.msgid,p="undefined"!=typeof a.msgid_plural&&a.msgid_plural.length?a.msgid_plural:null,d=[];for(var u in a){var s;(s=u.match(/^msgstr_(\d+)/))&&(d[parseInt(s[1])]=a[u])}d.unshift(p),d.length>1&&(e[l]=d),a={},r=""}}else{if(/^#/.test(o[n]))continue;(s=o[n].match(/^msgctxt\s+(.*)/))?(r="msgctxt",a[r]=this.parse_po_dequote(s[1])):(s=o[n].match(/^msgid\s+(.*)/))?(r="msgid",a[r]=this.parse_po_dequote(s[1])):(s=o[n].match(/^msgid_plural\s+(.*)/))?(r="msgid_plural",a[r]=this.parse_po_dequote(s[1])):(s=o[n].match(/^msgstr\s+(.*)/))?(r="msgstr_0",a[r]=this.parse_po_dequote(s[1])):(s=o[n].match(/^msgstr\[0\]\s+(.*)/))?(r="msgstr_0",a[r]=this.parse_po_dequote(s[1])):(s=o[n].match(/^msgstr\[(\d+)\]\s+(.*)/))?(r="msgstr_"+s[1],a[r]=this.parse_po_dequote(s[2])):/^"/.test(o[n])?a[r]+=this.parse_po_dequote(o[n]):i.push("Strange line ["+n+"] : "+o[n])}}if("undefined"!=typeof a.msgid){var l="undefined"!=typeof a.msgctxt&&a.msgctxt.length?a.msgctxt+iJS.Gettext.context_glue+a.msgid:a.msgid,p="undefined"!=typeof a.msgid_plural&&a.msgid_plural.length?a.msgid_plural:null,d=[];for(var u in a){var s;(s=u.match(/^msgstr_(\d+)/))&&(d[parseInt(s[1])]=a[u])}d.unshift(p),d.length>1&&(e[l]=d),a={},r=""}if(e[""]&&e[""][1]){for(var _={},f=e[""][1].split(/\\n/),n=0;n<f.length;n++)if(f.length){var h=f[n].indexOf(":",0);if(-1!=h){var c=f[n].substring(0,h),g=f[n].substring(h+1),S=c.toLowerCase();_[S]&&_[S].length?i.push("SKIPPING DUPLICATE HEADER LINE: "+f[n]):/#-#-#-#-#/.test(S)?i.push("SKIPPING ERROR MARKER IN HEADER: "+f[n]):(g=g.replace(/^\s+/,""),_[S]=g)}else i.push("PROBLEM LINE IN HEADER: "+f[n]),_[f[n]]=""}e[""]=_}else e[""]={};return e},iJS.Gettext.prototype.parse_po_dequote=function(t){var e;return(e=t.match(/^"(.*)"/))&&(t=e[1]),t=t.replace(/\\"/g,'"')},iJS.Gettext.prototype.MAGIC=314425327,iJS.Gettext.prototype.parseHeader=function(t){var e=(t||"").split("\n"),a={};return e.forEach(function(t){var e=t.trim().split(":"),r=(e.shift()||"").trim().toLowerCase(),i=e.join(":").trim();r&&(a[r]=i)}),a},iJS.Gettext.prototype.formatCharset=function(t,e){return(t||"iso-8859-1").toString().toLowerCase().replace(/^utf[\-_]?(\d+)$/,"utf-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/,"windows-$1").replace(/^latin[\-_]?(\d+)$/,"iso-8859-$1").replace(/^(us[\-_]?)?ascii$/,"ascii").replace(/^charset$/,e||"iso-8859-1").trim()},iJS.Gettext.prototype.parse_mo=function(t,e){var a=new iJS.Buffer(t),r="writeUInt32LE",i="readUInt32LE",o=e||"iso-8859-1",n={charset:o,headers:void 0,translations:{}};if(a.readUInt32LE(0)==this.MAGIC)i="readUInt32LE",r="writeUInt32LE";else{if(a.readUInt32BE(0)!==this.MAGIC)return!1;i="readUInt32BE",r="writeUInt32BE"}_revision=a[i](4),_total=a[i](8),_offsetOriginals=a[i](12),_offsetTranslations=a[i](16);for(var s,l,p,d,u=_offsetOriginals,_=_offsetTranslations,f=0;f<_total;f++){if(l=a[i](u),u+=4,s=a[i](u),u+=4,p=a.slice(s,s+l),l=a[i](_),_+=4,s=a[i](_),_+=4,d=a.slice(s,s+l),!f&&!p.toString()){var h,c=headers.toString();(h=c.match(/[; ]charset\s*=\s*([\w\-]+)/i))&&(o=n.charset=this.formatCharset(h[1],o)),n.headers=this.parseHeader(c.toString("utf-8"))}var g,S,x,m={};p=p.split(""),p.length>1?(S=p.shift(),m.msgctxt=S):S="",p=p.join(""),g=p.split("\x00"),p=g.shift(),m.msgid=p,(x=g.join("\x00"))&&(m.msgid_plural=x),d=d.split("\x00"),m.msgstr=[].concat(d||[]),n.translations[S]||(n.translations[S]={}),n.translations[S][p]=m}return a=null,n},iJS.Gettext.prototype.try_load_lang_json=function(t){var e=this.sjax(t);if(e){var a=this.JSON(e);return this.parse_locale_data(a),1}},iJS.Gettext.prototype.textdomain=function(t){return t&&t.length&&(this.domain=t),this.domain},iJS.Gettext.prototype.gettext=function(t){var e,a,r,i;return this.dcnpgettext(null,e,t,a,r,i)},iJS.Gettext.prototype.dgettext=function(t,e){var a,r,i,o;return this.dcnpgettext(t,a,e,r,i,o)},iJS.Gettext.prototype.dcgettext=function(t,e,a){var r,i,o;return this.dcnpgettext(t,r,e,i,o,a)},iJS.Gettext.prototype.ngettext=function(t,e,a){var r,i;return this.dcnpgettext(null,r,t,e,a,i)},iJS.Gettext.prototype.dngettext=function(t,e,a,r){var i,o;return this.dcnpgettext(t,i,e,a,r,o)},iJS.Gettext.prototype.dcngettext=function(t,e,a,r,i){var o;return this.dcnpgettext(t,o,e,a,r,i,i)},iJS.Gettext.prototype.pgettext=function(t,e){var a,r,i;return this.dcnpgettext(null,t,e,a,r,i)},iJS.Gettext.prototype.dpgettext=function(t,e,a){var r,i,o;return this.dcnpgettext(t,e,a,r,i,o)},iJS.Gettext.prototype.dcpgettext=function(t,e,a,r){var i,o;return this.dcnpgettext(t,e,a,i,o,r)},iJS.Gettext.prototype.npgettext=function(t,e,a,r){var i;return this.dcnpgettext(null,t,e,a,r,i)},iJS.Gettext.prototype.dnpgettext=function(t,e,a,r,i){var o;return this.dcnpgettext(t,e,a,r,i,o)},iJS.Gettext.prototype.dcnpgettext=function(t,e,a,r,i,o){if(!iJS.isSet(a))return"";var n=iJS.isSet(r),s=iJS.isSet(e)?e+iJS.Gettext.context_glue+a:a,l=iJS.isSet(t)?t:iJS.isSet(this.domain)?this.domain:"messages",p=new Array;if("undefined"!=typeof iJS.Gettext._locale_data&&iJS.isSet(iJS.Gettext._locale_data[l]))p.push(iJS.Gettext._locale_data[l]);else if("undefined"!=typeof iJS.Gettext._locale_data)for(var d in iJS.Gettext._locale_data)p.push(iJS.Gettext._locale_data[d]);var u,_=[],f=!1;if(p.length)for(var h=0;h<p.length;h++){var c=p[h];if(iJS.isSet(c.msgs[s])){for(var g=0;g<c.msgs[s].length;g++)_[g]=c.msgs[s][g];if(_.shift(),u=c,f=!0,_.length>0&&0!=_[0].length)break}}(0==_.length||0==_[0].length)&&(_=[a,r]);var S=_[0];if(n){var x;if(f&&iJS.isSet(u.head.plural_func)){var m=u.head.plural_func(i);m.plural||(m.plural=0),m.nplural||(m.nplural=0),m.nplural<=m.plural&&(m.plural=0),x=m.plural}else x=1!=i?1:0;iJS.isSet(_[x])&&(S=_[x])}return S},iJS.Gettext.strargs=function(t,e){null==e||"undefined"==typeof e?e=[]:e.constructor!=Array&&(e=[e]);for(var a="";;){var r,i=t.indexOf("%");if(-1==i){a+=t;break}if(a+=t.substr(0,i),"%%"==t.substr(i,2))a+="%",t=t.substr(i+2);else if(r=t.substr(i).match(/^%(\d+)/)){var o=parseInt(r[1]),n=r[1].length;o>0&&null!=e[o-1]&&"undefined"!=typeof e[o-1]&&(a+=e[o-1]),t=t.substr(i+1+n)}else a+="%",t=t.substr(i+1)}return a},iJS.Gettext.prototype.strargs=function(t,e){return iJS.Gettext.strargs(t,e)},iJS.Gettext.prototype.sjax=function(t){var e=iJS.newHTTPRequest();if(e){e.open("GET",t,!1);try{e.send(null)}catch(a){return}var r=e.status;if(200==r||0==r)return e.responseText;var i=e.statusText+" (Error "+e.status+")";return e.responseText.length&&(i+="\n"+e.responseText),void console.error(i)}console.error("iJS-gettext:'sjax': Your browser doesn't do Ajax. Unable to support external language files.")},iJS.Gettext.prototype.JSON=function(data){return eval("("+data+")")}},{}]},{},[1]);
//# sourceMappingURL=partials/i_gettext.min.js.map