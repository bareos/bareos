.\" Man page generated from reStructuredText.
.
.TH "BAREOS-DBCOPY" "8" "Jan 28, 2020" "" "Bareos Documentation"
.SH NAME
bareos-dbcopy \- bareos-dbcopy
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBbareos\-dbcopy\fP [\fIoptions\fP] <\fIsourcecatalog\fP> <\fIdestinationcatalog\fP>
.SH DESCRIPTION
.sp
\fBbareos\-dbcopy\fP copies the data of all tables from the Bareos catalog
\fB<sourcecatalog>\fP into the Bareos catalog \fB<destinationcatalog>\fP\&.
.sp
\fBbareos\-dbcopy\fP reads the Bareos director configuration from
\fB/etc/bareos\fP to load the catalog settings. A configuration resource
for both \fB<sourcecatalog>\fP and \fB<destinationcatalog>\fP must exist.
.sp
The main use of \fBbareos\-dbcopy\fP is to migrate an existing Bareos
installation from a mysql/mariadb catalog to postgresql.
.sp
\fBbareos\-dbcopy\fP only copies the data over to the new catalog.
The \fB<destinationcatalog>\fP needs to be created and initialized with the
correct tables and columns via \fBcreate_bareos_database\fP,
\fBmake_bareos_tables\fP and \fBgrant_bareos_privileges\fP\&.
Both \fBsourcecatalog\fP and \fBdestinationcatalog\fP need to have the same database
scheme version, i.e. have the schema from the identical Bareos version..
.SH OPTIONS
.INDENT 0.0
.TP
.B \-c <configuration directory>
bareos\-dbcopy reads the director configuration from the given
<configuration directory> instead of \fB/etc/bareos\fP
.UNINDENT
.INDENT 0.0
.TP
.B \-e
Examine and verify every single data record of each table after
copying. This can take a very long time. Without \-e, only the first
and last record of each database is examined and verified.
.UNINDENT
.INDENT 0.0
.TP
.B \-?
Prints usage information
.UNINDENT
.SH AUTHOR
Bareos GmbH & Co. KG
.SH COPYRIGHT
2019 Bareos GmbH & Co. KG and others.
.\" Generated by docutils manpage writer.
.
