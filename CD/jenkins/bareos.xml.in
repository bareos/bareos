<?xml version="1.0" encoding="UTF-8"?><matrix-project plugin="matrix-project@1.3">
  <actions/>
  <description>install Bareos, version master</description>
  <logRotator class="hudson.tasks.LogRotator">
    <daysToKeep>30</daysToKeep>
    <numToKeep>-1</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.buildblocker.BuildBlockerProperty plugin="build-blocker-plugin@1.4.1">
      <useBuildBlocker>false</useBuildBlocker>
    </hudson.plugins.buildblocker.BuildBlockerProperty>
    <jenkins.plugins.jobicon.CustomIconProperty plugin="custom-job-icon@0.2">
      <iconfile>a6c6380512be61b9e1025a2124ad1d109fa0799f.png</iconfile>
    </jenkins.plugins.jobicon.CustomIconProperty>
    <jenkins.advancedqueue.AdvancedQueueSorterJobProperty plugin="PrioritySorter@2.8">
      <useJobPriority>true</useJobPriority>
      <priority>4</priority>
    </jenkins.advancedqueue.AdvancedQueueSorterJobProperty>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <hudson.model.StringParameterDefinition>
          <name>REPOURL</name>
          <description>list of repositories to use</description>
          <defaultValue>@REPOURL@/</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>STAGE</name>
          <description>Stage to use tests from (dev for devolping, qa for qa (beta testing etc.), px for productive environment</description>
          <defaultValue>dev</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>DESTROY_VM</name>
          <description>Whether to destroy the VM at the end of the tests or not</description>
          <defaultValue>yes</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>CLEANUP_WORKSPACE</name>
          <description>Whether to delete all files from workspace at the end of the tests or not</description>
          <defaultValue>yes</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>DEBUG</name>
          <description>Set bash -x on test scripts, if yes</description>
          <defaultValue>yes</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>BUILD_VERSION</name>
          <description>BUILD parameter, set by repo-status</description>
          <defaultValue>19.1.2.1551874020.6df58d68c-117.1</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>BUILD_REV</name>
          <description>BUILD parameter, set by repo-status</description>
          <defaultValue>117</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>BUILD_SRCMD5</name>
          <description>BUILD parameter, set by repo-status</description>
          <defaultValue>967e6718e3b4b73dc2d6997ae1bdb3cd</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>PACKAGES</name>
          <description>BUILD parameter, required by and added from repo-status</description>
          <defaultValue/>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>WEBUI</name>
          <description>Test the WEBUI (if bareos-webui is build for this DISTRELEASE)</description>
          <defaultValue>no</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.TextParameterDefinition>
          <name>PROJECT_PACKAGES</name>
          <description>BUILD parameter, set by repo-status</description>
          <defaultValue>SLE-15-x86_64:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
Debian-8.0-x86_64:bareos,bareos-regress,bareos-vmware,bareos-webui,libfastlz,python-bareos
Debian-9.0-x86_64:bareos,bareos-regress,bareos-vmware,bareos-webui,libfastlz,python-bareos
Fedora-29-x86_64:bareos,bareos-webui,libfastlz,python-bareos
Fedora-28-x86_64:bareos,bareos-webui,libfastlz,python-bareos
xUbuntu-18.04-x86_64:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
Debian-9.0-i586:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
Debian-8.0-i586:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
RHEL-6-x86_64:bareos,libfastlz,python-bareos
CentOS-6-x86_64:bareos,libfastlz,python-bareos
RHEL-7-x86_64:bareos,bareos-regress,bareos-vmware,bareos-webui,libdroplet,libfastlz,python-bareos
xUbuntu-14.04-x86_64:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
xUbuntu-16.04-i586:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
xUbuntu-16.04-x86_64:bareos,bareos-regress,bareos-vmware,bareos-webui,libfastlz,python-bareos
xUbuntu-14.04-i586:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
openSUSE-Leap_15.0-x86_64:bareos,libfastlz,python-bareos
Univention-4.3-x86_64:bareos,bareos-regress,bareos-webui,libfastlz,python-bareos
SLE-12_SP4-x86_64:bareos,bareos-regress,bareos-webui,libdroplet,libfastlz,libjansson,python-bareos
CentOS-7-x86_64:bareos,bareos-regress,bareos-vmware,bareos-vmware-vix-disklib65,bareos-webui,libdroplet,libfastlz,python-bareos
win-cross-x86_64:bareos-freebsd,bareos-macos,mingw-debugsrc,mingw32-winbareos,mingw64-winbareos,winbareos-nsi,winbareos-opsi
</defaultValue>
        </hudson.model.TextParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>TEST_NDMP_VENDORS</name>
          <description/>
          <defaultValue>isilon</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>TEST_NDMP_DISTRELEASES</name>
          <description/>
          <defaultValue>Debian-9.0-x86_64</defaultValue>
        </hudson.model.StringParameterDefinition>
        <hudson.model.BooleanParameterDefinition>
          <name>LIBDROPLET</name>
          <description>Test bareos-storage-libdroplet S3 SD Connector</description>
          <defaultValue>true</defaultValue>
        </hudson.model.BooleanParameterDefinition>
        <hudson.model.StringParameterDefinition>
          <name>TEST_LIBDROPLET_DISTRELEASES</name>
          <description>Distributions to test Bareos Amazon S3 libdroplet SD Backend. Use vallue ALL to test on all distributions.</description>
          <defaultValue>CentOS-7-x86_64</defaultValue>
        </hudson.model.StringParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <axes>
    <hudson.matrix.TextAxis>
      <name>TESTTYPE</name>
      <values>
        <string>bareos-client-only</string>
        <string>bareos-mysql</string>
        <string>bareos-postgresql</string>
      </values>
    </hudson.matrix.TextAxis>
    <hudson.matrix.TextAxis>
      <name>DISTRELEASE</name>
      <values>
        @DISTRELEASES_XML@
      </values>
    </hudson.matrix.TextAxis>
    <hudson.matrix.TextAxis>
      <name>INSTALL_START</name>
      <values>
        <string>latest</string>
      </values>
    </hudson.matrix.TextAxis>
  </axes>
  <combinationFilter>!( DISTRELEASE ==~  "Univention-4.0-i586" )</combinationFilter>
  <builders>
    <hudson.tasks.Shell>
      <command># setup build environment
/srv/www/htdocs/jenkins/$STAGE/sync_scripts.sh</command>
    </hudson.tasks.Shell>
    <hudson.tasks.Shell>
      <command>$WORKSPACE/$BUILD_NUMBER/run.sh</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers>
    <hudson.plugins.postbuildtask.PostbuildTask plugin="postbuild-task@1.8">
      <tasks>
        <hudson.plugins.postbuildtask.TaskProperties>
          <logTexts>
            <hudson.plugins.postbuildtask.LogProperties>
              <logText>bareos</logText>
              <operator>AND</operator>
            </hudson.plugins.postbuildtask.LogProperties>
          </logTexts>
          <EscalateStatus>false</EscalateStatus>
          <RunIfJobSuccessful>false</RunIfJobSuccessful>
          <script># cleanup
./$BUILD_NUMBER/run_section.sh localhost 100</script>
        </hudson.plugins.postbuildtask.TaskProperties>
      </tasks>
    </hudson.plugins.postbuildtask.PostbuildTask>
    <hudson.plugins.descriptionsetter.DescriptionSetterPublisher plugin="description-setter@1.9">
      <regexp>^(BUILD_VERSION=.*)$</regexp>
      <regexpForFailed>bareos-filedaemon \(([^ ]*)\)</regexpForFailed>
      <description>\1</description>
      <descriptionForFailed>\1</descriptionForFailed>
      <setForMatrix>true</setForMatrix>
    </hudson.plugins.descriptionsetter.DescriptionSetterPublisher>
  </publishers>
  <buildWrappers>
    <hudson.plugins.build__timeout.BuildTimeoutWrapper plugin="build-timeout@1.14">
      <strategy class="hudson.plugins.build_timeout.impl.AbsoluteTimeOutStrategy">
        <timeoutMinutes>90</timeoutMinutes>
      </strategy>
      <operationList>
        <hudson.plugins.build__timeout.operations.AbortOperation/>
      </operationList>
    </hudson.plugins.build__timeout.BuildTimeoutWrapper>
  </buildWrappers>
  <executionStrategy class="hudson.matrix.DefaultMatrixExecutionStrategyImpl">
    <runSequentially>false</runSequentially>
  </executionStrategy>
</matrix-project>
